<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Google Kalender Integration ‚Äì Schritt f√ºr Schritt</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" integrity="sha384-HtMZLkYo+pR5/u7zCzXxMJP6QoNnQJt1qkHM0EaOPvGDIzaVZbmYr/TlvUZ/sKAg" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css">
    <style>
        .screenshot { border: 1px solid #ddd; border-radius: 6px; margin: 12px 0; max-width: 100%; }
        .step { margin-bottom: 2.5rem; }
    </style>
</head>
<body class="min-h-screen">
    <div class="container mx-auto px-4 py-8 max-w-2xl">
        <div class="mb-6">
            <a href="index.html" class="text-blue-500 hover:text-blue-700 flex items-center gap-1 transition-colors">
                <span>&larr;</span> Zur√ºck zur Hauptseite
            </a>
        </div>
        <div class="flex justify-between items-center mb-6">
            <h1 class="text-3xl font-bold">Google Kalender Integration</h1>
            <div class="flex items-center gap-2">
                <button id="themeLightBtn" class="bg-gray-200 text-gray-700 px-2 py-1 rounded hover:bg-gray-300 text-lg" title="Heller Modus (Standard)">‚òÄÔ∏è</button>
                <button id="themeDarkBtn" class="bg-gray-800 text-gray-100 px-2 py-1 rounded hover:bg-gray-700 text-lg" title="Dunkler Modus">üåô</button>
                <button id="themeSepiaBtn" class="bg-yellow-200 text-yellow-900 px-2 py-1 rounded hover:bg-yellow-300 text-lg" title="Sepia Modus">üü§</button>
            </div>
        </div>
        <p class="mb-6 text-gray-700">
            Diese Anleitung zeigt dir, wie du eine Google Client ID erstellst und das Tool sicher mit deinem Google Kalender verbindest.<br>
            <span class="text-green-700 font-semibold">Wichtig: Deine Daten bleiben immer lokal im Browser!</span>
        </p>
        <div class="mb-6 p-4 bg-green-50 border border-green-200 rounded">
            <b>Datenschutz & Privatsph√§re:</b><br>
            Auch wenn du die Google App als <b>"extern"</b> registrierst, bleiben deine Daten privat. Nur du selbst (bzw. die von dir eingetragenen Testnutzer) k√∂nnen die App nutzen. Niemand au√üer dir hat Zugriff auf deinen Dienstplan oder Kalender. Die App dient ausschlie√ülich der Google-Authentifizierung ‚Äì deine Daten werden niemals √∂ffentlich oder f√ºr andere sichtbar.
        </div>
        <ol class="list-decimal ml-6 space-y-8">
            <li class="step">
                <b>Google Cloud Console √∂ffnen</b><br>
                Rufe die Google Cloud Console auf:<br>
                <a href="https://console.cloud.google.com/" target="_blank" class="text-blue-500 underline">https://console.cloud.google.com/</a>
                <img src="assets/1.png" alt="Google Cloud Console √∂ffnen" class="screenshot">
            </li>
            <li class="step">
                <b>Neues Projekt anlegen</b><br>
                Klicke links oben auf das Projekt-Dropdown und dann auf <b>Neues Projekt</b>.
                <img src="assets/2.png" alt="Neues Projekt anlegen" class="screenshot">
            </li>
            <li class="step">
                <b>APIs & Dienste aktivieren</b><br>
                W√§hle im Men√º <b>APIs & Dienste</b> und aktiviere die Google Kalender API f√ºr dein Projekt.
                <img src="assets/3.png" alt="APIs & Dienste aktivieren" class="screenshot">
            </li>
            <li class="step">
                <b>OAuth-Zustimmungsbildschirm konfigurieren</b><br>
                Gehe zu <b>APIs & Dienste &rarr; OAuth-Zustimmungsbildschirm</b>.<br>
                W√§hle <b>Extern</b> als Nutzertyp (auch wenn du keine Organisation hast). Gib die erforderlichen Informationen wie App-Name, Support-E-Mail und ggf. Branding ein. Trage nur die n√∂tigsten Daten ein, Abrechnung ist nicht erforderlich. Die App bleibt privat und ist nur f√ºr dich bzw. eingetragene Testnutzer sichtbar.
                <img src="assets/4.png" alt="OAuth-Zustimmungsbildschirm konfigurieren" class="screenshot">
            </li>
            <li class="step">
                <b>OAuth-Client-ID erstellen</b><br>
                Gehe zu <b>Anmeldedaten</b> und klicke auf <b>Anmeldedaten erstellen &rarr; OAuth-Client-ID</b>.<br>
                W√§hle als Anwendungstyp <b>Webanwendung</b> und gib einen Namen ein (z.B. "Dienstplan Konverter").<br>
                <span class="text-red-700 font-semibold">Wichtig: F√ºr die Nutzung im Browser ‚Äì egal ob am Desktop oder auf dem Handy ‚Äì muss immer "Webanwendung" gew√§hlt werden. Andere Typen wie "Desktop" oder "Andere" funktionieren nicht im mobilen Browser!</span>
                <img src="assets/5.png" alt="OAuth-Client-ID erstellen" class="screenshot">
            </li>
            <li class="step">
                <b>Autorisierte JavaScript-Quellen eintragen</b><br>
                F√ºge <code>https://shift.fr4iser.com</code> als autorisierte Quelle hinzu. Wenn du das Tool selbst hostest, kannst du auch <code>http://localhost:8080</code> eintragen.<br>
                <span class="text-sm text-gray-700">Achte darauf, dass die autorisierten JavaScript-Quellen und Redirect-URIs exakt mit der URL √ºbereinstimmen, unter der du das Tool im Browser (auch am Handy) aufrufst.</span>
                <img src="assets/6.png" alt="Autorisierte JavaScript-Quellen" class="screenshot">
            </li>
            <li class="step">
                <b>Client ID kopieren & im Tool eintragen</b><br>
                Nach dem Erstellen wird dir die Client ID angezeigt. Kopiere sie und trage sie im Tool im Feld <b>Google Client ID</b> ein.
                <img src="assets/7.png" alt="Client ID kopieren" class="screenshot">
            </li>
            <li class="step">
                <b>Zugriff erlauben & Kalender synchronisieren</b><br>
                Folge den Anweisungen im Tool, um den Zugriff zu erlauben und deine Kalendereintr√§ge zu synchronisieren.
            </li>
        </ol>
        <div class="mt-8">
            <h2 class="text-xl font-bold mb-4">FAQ</h2>
            <ul class="list-disc ml-6 space-y-2">
                <li>
                    <b>Das Google-Login-Fenster (Modal) l√§dt auf dem Handy nicht ‚Äì was tun?</b><br>
                    Pr√ºfe, ob du als Anwendungstyp wirklich <b>Webanwendung</b> gew√§hlt hast und die autorisierten JavaScript-Quellen sowie Redirect-URIs exakt mit der URL √ºbereinstimmen, die du im mobilen Browser verwendest (z.B. <code>https://shift.fr4iser.com</code>).<br>
                    Stelle sicher, dass Popups im Browser erlaubt sind und versuche ggf. den Cache zu leeren. Bei Self-Hosting muss die lokale Adresse (z.B. <code>http://localhost:8080</code>) ebenfalls eingetragen sein.
                </li>
                <li>
                    <b>Was bedeutet "Extern" bei der Google App?</b><br>
                    "Extern" ist nur ein technischer Begriff f√ºr die App-Registrierung. Deine Daten bleiben privat. Nur du (bzw. eingetragene Testnutzer) k√∂nnen die App nutzen. Niemand sonst sieht deinen Dienstplan oder Kalender.
                </li>
                <li>
                    <b>Werden meine Daten hochgeladen oder ver√∂ffentlicht?</b><br>
                    Nein, alles bleibt lokal im Browser. Es werden keine Daten an einen Server oder Dritte √ºbertragen.
                </li>
                <li>
                    <b>Warum brauche ich eine Google Client ID?</b><br>
                    Damit Google wei√ü, welche App auf deinen Kalender zugreifen m√∂chte und du die Kontrolle √ºber die Berechtigungen hast.
                </li>
                <li>
                    <b>Kann ich das Tool ohne Google nutzen?</b><br>
                    Ja, du kannst auch nur die Konvertierung und den CSV-Export nutzen.
                </li>
            </ul>
        </div>
        <div class="mt-8 p-4 bg-blue-50 border border-blue-200 rounded">
            <h2 class="text-lg font-bold mb-2">Self-Hosting & Quellcode</h2>
            <p>
                Du m√∂chtest das Tool selbst hosten oder anpassen? Den Quellcode findest du auf GitHub:<br>
                <a href="#" target="_blank" class="github-repo text-blue-500 underline">GitHub Repository</a>
            </p>
            <p class="mt-2">
                Die Screenshots dieser Anleitung findest du im <b>assets</b>-Ordner. F√ºr Self-Hosting einfach die HTML-Datei und den assets-Ordner gemeinsam verwenden.
            </p>
        </div>
    </div>
    <script>
        // Da google-setup kein Modul-System wie main.js nutzt, laden wir die config hier kurz separat
        async function updateLinks() {
            try {
                const response = await fetch('src/config.json');
                const config = await response.json();
                document.querySelectorAll('.github-repo').forEach(link => {
                    link.href = config.githubRepo;
                });
            } catch (e) {}
        }
        updateLinks();

        document.addEventListener('DOMContentLoaded', () => {
            const body = document.body;
            function setTheme(theme) {
                body.classList.remove('theme-light', 'theme-dark', 'theme-sepia');
                if (theme) body.classList.add(theme);
                localStorage.setItem('theme', theme);
            }
            setTheme(localStorage.getItem('theme') || 'theme-light');

            ['themeLightBtn', 'themeDarkBtn', 'themeSepiaBtn'].forEach(id => {
                const btn = document.getElementById(id);
                if (btn) btn.addEventListener('click', () => setTheme(id.replace('Btn', '').replace('theme', 'theme-').toLowerCase()));
            });
        });
    </script>
</body>
</html>
